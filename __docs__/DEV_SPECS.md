# SWEAP GAME - 開発仕様書（凝縮版）

## ゲーム仕様

### 基本ルール
- 従来のマインスイーパーのルールに準拠
- 数字は隣接する地雷の数を示す
- 地雷を踏むとゲームオーバー

### 難易度設定
| 難易度 | グリッドサイズ | 地雷数 | 名称 |
|--------|-------------|--------|------|
| 初級 | 9×9 | 10 | NOVICE |
| 中級 | 16×16 | 40 | AGENT |
| 上級 | 30×16 | 99 | HACKER |
| カスタム | 可変 | 可変 | CUSTOM |

### ゲーム状態
- **READY**: ゲーム開始前
- **ACTIVE**: プレイ中
- **SUCCESS**: クリア成功
- **FAILED**: ゲームオーバー
- **PAUSED**: 一時停止

## UI/UX要件

### 操作方法
- **左クリック**: セル開放
- **右クリック**: フラグ切り替え
- **中クリック**: 周囲開放（数字セル）
- **タッチ**: タップで開放、長押しでフラグ
- **キーボード**: 矢印キー + Space/Enter

### セルの状態表現
- **未開放**: 暗いグレーの正方形、ホバー時にネオングロー
- **開放済み**: 透明または薄いグレー、数字は色分け
- **フラグ**: ネオンオレンジの三角形アイコン
- **地雷**: ネオンレッドの爆発エフェクト
- **疑問符**: ネオンイエローの「?」マーク

### 数字の色分け
- **1**: ネオンブルー (#00ffff)
- **2**: ネオングリーン (#00ff41)
- **3**: ネオンイエロー (#ffff00)
- **4**: ネオンパープル (#bf00ff)
- **5**: ネオンマゼンタ (#ff00bf)
- **6**: ネオンオレンジ (#ff9500)
- **7**: ネオンライム (#80ff00)
- **8**: ネオンレッド (#ff0040)

## デザインシステム

### カラーパレット
- **プライマリー**: ダークグレー (#1a1a1a), ディープブラック (#0d0d0d)
- **アクセント**: ネオンブルー (#00ffff), ネオングリーン (#00ff41)
- **警告色**: ネオンレッド (#ff0040), ネオンオレンジ (#ff9500)
- **テキスト**: ホワイト (#ffffff), ライトグレー (#cccccc)

### アニメーション
- **開放時**: フェードイン + スケールアップ
- **フラグ設置**: バウンス + グロー
- **ホバー**: パルス + ボーダーグロー
- **地雷爆発**: 拡散 + 画面シェイク

## 技術要件

### 開発言語・フレームワーク・ライブラリ

#### フロントエンド
- **TypeScript** - 型安全性とチーム開発効率
- **PixiJS v8** - WebGL高性能2Dレンダリング、WebGPU対応
- **PWA** - Progressive Web App（オフライン対応、ホーム画面追加）
- **Web Audio API** - リッチサウンド体験
- **Vite** - 高速開発環境、Cloudflare統合

#### バックエンド・インフラ（Cloudflareフルスタック構成）
- **Cloudflare Pages** - PWA配信・ホスティング、自動HTTPS、HTTP/3対応
- **Cloudflare Workers** - エッジコンピューティング、WebSocket対応
- **Cloudflare R2** - アセット・画像ストレージ、帯域幅無料
- **Cloudflare D1** - SQLiteベースデータベース、エッジレプリケーション
- **Cloudflare Images** - 画像最適化
- **Cloudflare Analytics** - リアルタイム分析

### パフォーマンス要件
- **60FPS維持** - WebGLレンダリング
- **初回ロード** - 3秒以内
- **API応答** - 100ms以内
- **レスポンシブデザイン** - 320px〜4K解像度対応

### 互換性
- **モダンブラウザ**: Chrome 80+, Firefox 75+, Safari 13+, Edge 80+
- **モバイル**: iOS Safari 13+, Android Chrome 80+
- **PWA対応**: iOS 16.4+, Android 5.0+

## コア機能実装

### 必須機能
- ゲーム状態管理
- 地雷配置アルゴリズム
- セル開放ロジック
- 勝利/敗北判定
- タイマー機能

### 拡張機能
- 統計追跡（プレイ時間、勝率、最高記録）
- 設定カスタマイズ（音量、視覚効果）
- 難易度エディタ
- リプレイ機能

## アクセシビリティ要件
- **コントラスト比**: WCAG AA準拠
- **キーボードナビゲーション**: 完全対応
- **スクリーンリーダー**: ARIAラベル実装
- **色覚多様性**: 形状・パターンでも識別可能

## 開発フェーズ
1. **コア実装**: 基本ゲームロジック + UI基盤
2. **ビジュアル強化**: アニメーション + エフェクト
3. **機能拡張**: サウンド + 統計・設定 + PWA
4. **最適化・公開**: パフォーマンス最適化 + テスト